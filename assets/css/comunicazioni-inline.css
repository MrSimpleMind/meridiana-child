/**
 * PROMPT 6 DESIGN SYSTEM COMPLIANT: Comunicazioni
 * Stili per filtro, grid, card e paginazione
 * Compilato direttamente da SCSS ottobre 2025
 * 
 * PATTERN: Uguale a organigramma (filter-group, filter-badge, filter-select)
 */

/* FILTRO CATEGORIA - Pattern Organigramma */
.filter-group {display:grid;grid-template-columns:1fr;gap:var(--space-3);margin-bottom:var(--space-6)}
@media (min-width:768px) {.filter-group {grid-template-columns:repeat(2, 1fr);gap:var(--space-4)}}

.filter-item {display:flex;flex-direction:column;gap:var(--space-2)}

.filter-label {display:flex;align-items:center;gap:var(--space-2);font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text-primary);text-transform:uppercase;letter-spacing:0.5px}
.filter-label i,.filter-label__icon {width:16px;height:16px;color:var(--color-primary);flex-shrink:0}

.filter-wrapper {position:relative;display:flex;gap:var(--space-2);height:44px}

/* SELECT INVISIBILE - Intercetta i click */
.filter-select {
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  padding:var(--space-3) var(--space-4);
  font-size:var(--font-size-base);
  color:transparent;
  background-color:transparent;
  border:none;
  border-radius:var(--radius-md);
  cursor:pointer;
  appearance:none;
  background-image:none;
  z-index:10;
  opacity:1;
}

.filter-select::-ms-expand {display:none}
.filter-select:hover {outline:none}
.filter-select:focus {outline:none}
.filter-select option {color:var(--color-text-primary);background-color:var(--color-bg-primary)}

/* BADGE VISIBILE - Sottostante al select */
.filter-badge {
  position:absolute;
  left:0;
  top:0;
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:var(--space-3) var(--space-4);
  padding-right:var(--space-10);
  font-size:var(--font-size-base);
  color:var(--color-text-primary);
  background-color:var(--color-bg-primary);
  border:1px solid var(--color-border-input);
  border-radius:var(--radius-md);
  pointer-events:none;
  gap:var(--space-2);
  z-index:1;
  transition:all 0.2s ease;
  box-sizing:border-box;
}

.filter-badge span {
  flex:1;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  font-weight:var(--font-weight-medium);
}

.filter-badge__icon {
  width:18px;
  height:18px;
  color:var(--color-text-secondary);
  flex-shrink:0;
}

/* Hover effect sul badge (dalla zona select) */
.filter-select:hover ~ .filter-badge {
  border-color:var(--color-primary);
  background-color:var(--color-bg-secondary);
}

.filter-select:focus ~ .filter-badge {
  border-color:var(--color-primary);
  box-shadow:var(--shadow-focus);
}

/* GRID LISTA */
.comunicazioni-list {display:grid;grid-template-columns:1fr;gap:var(--space-6);margin-bottom:var(--space-10);margin-top:var(--space-6)}
@media (min-width:768px) {.comunicazioni-list {grid-template-columns:repeat(2, 1fr);gap:var(--space-8)}}
@media (min-width:1200px) {.comunicazioni-list {grid-template-columns:repeat(3, 1fr);gap:var(--space-8)}}

/* CARD COMUNICAZIONE */
.comunicazione-card {display:flex;flex-direction:column;height:100%;background-color:var(--color-bg-primary);border:1px solid var(--color-border);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-sm);transition:all 0.3s ease}
@media (hover:hover) {
  .comunicazione-card:hover {border-color:var(--color-primary);box-shadow:var(--shadow-md);transform:translateY(-4px)}
  .comunicazione-card:hover .comunicazione-card__image {transform:scale(1.05)}
  .comunicazione-card:hover .comunicazione-card__link {color:var(--color-primary)}
}
@media (hover:none) {
  .comunicazione-card:active {box-shadow:var(--shadow-md);transform:translateY(-2px)}
}

.comunicazione-card__image-wrapper {position:relative;width:100%;padding-bottom:56.25%;overflow:hidden;background-color:var(--color-bg-secondary);flex-shrink:0}
.comunicazione-card__image {position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transition:transform 0.3s ease;display:block}

.comunicazione-card__image-placeholder {position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg, var(--color-primary-bg-light) 0%, var(--color-bg-secondary) 100%)}
.comunicazione-card__placeholder-icon {width:48px;height:48px;color:var(--color-primary);opacity:0.4}

.comunicazione-card__content {flex:1;display:flex;flex-direction:column;gap:var(--space-3);padding:var(--space-5)}
@media (max-width:768px) {.comunicazione-card__content {padding:var(--space-4)}}

.comunicazione-card__categories {display:flex;flex-wrap:wrap;gap:var(--space-2);margin-bottom:var(--space-1)}
.comunicazione-card__categories .badge {font-size:var(--font-size-xs);padding:4px 8px}

.comunicazione-card__title {margin:0;font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);line-height:var(--line-height-tight);color:var(--color-text-primary)}
@media (max-width:768px) {.comunicazione-card__title {font-size:var(--font-size-base)}}

.comunicazione-card__link {color:inherit;text-decoration:none;transition:color 0.2s ease}
.comunicazione-card__link:hover {color:var(--color-primary)}
.comunicazione-card__link:focus-visible {outline:2px solid var(--color-primary);outline-offset:2px;border-radius:2px}

.comunicazione-card__excerpt {flex:1;margin:0;font-size:var(--font-size-sm);line-height:var(--line-height-normal);color:var(--color-text-secondary)}
@media (max-width:768px) {.comunicazione-card__excerpt {font-size:var(--font-size-sm)}}

.comunicazione-card__meta {display:flex;flex-wrap:wrap;gap:var(--space-4);padding-top:var(--space-4);border-top:1px solid var(--color-border-light);font-size:var(--font-size-xs);color:var(--color-text-secondary)}
@media (max-width:576px) {.comunicazione-card__meta {gap:var(--space-2);font-size:12px}}

.comunicazione-card__date, .comunicazione-card__author {display:flex;align-items:center;gap:var(--space-1)}

.comunicazione-card__meta-icon {width:14px;height:14px;flex-shrink:0;color:var(--color-primary);opacity:0.7}

.comunicazione-card__read-more {display:inline-flex;align-items:center;gap:var(--space-2);margin-top:auto;width:auto}
.comunicazione-card__read-more i {width:14px;height:14px}
.comunicazione-card__read-more:focus-visible {outline:2px solid var(--color-primary);outline-offset:2px}

/* PAGINAZIONE AJAX */
.comunicazioni-pagination {display:flex;justify-content:center;margin-top:var(--space-12);margin-bottom:var(--space-4)}

.pagination {display:flex;align-items:center;justify-content:center;gap:var(--space-2);list-style:none;margin:0;padding:0;flex-wrap:wrap}
.pagination__item {margin:0;padding:0}

.pagination__link {display:inline-flex;align-items:center;justify-content:center;gap:var(--space-1);min-width:40px;min-height:40px;padding:var(--space-2) var(--space-3);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-primary);background-color:var(--color-bg-secondary);border:1px solid var(--color-border-input);border-radius:var(--radius-md);text-decoration:none;transition:all 0.2s ease;cursor:pointer;touch-action:manipulation}
.pagination__link i {width:16px;height:16px}
.pagination__link:hover:not(.active) {background-color:var(--color-bg-tertiary);border-color:var(--color-primary)}
.pagination__link.active {background-color:var(--color-primary);color:white;border-color:var(--color-primary);font-weight:var(--font-weight-bold)}
.pagination__link:focus-visible {outline:none;box-shadow:var(--shadow-focus)}
.pagination__link:active:not(.active) {transform:scale(0.95)}
@media (max-width:576px) {.pagination__link {min-width:36px;min-height:36px;padding:var(--space-2) var(--space-2);font-size:var(--font-size-xs)}}

/* STATI SPECIALI */
.comunicazioni-empty {grid-column:1 / -1;padding:var(--space-12) var(--space-6);text-align:center;color:var(--color-text-secondary);background-color:var(--color-bg-secondary);border-radius:var(--radius-lg);border:1px dashed var(--color-border)}
.comunicazioni-empty p {margin:0;font-size:var(--font-size-base)}
.comunicazioni-empty i {display:block;width:48px;height:48px;margin:0 auto var(--space-4);opacity:0.3}

.comunicazioni-list.loading {opacity:0.6;pointer-events:none;transition:opacity 0.2s ease}

.comunicazioni-error {grid-column:1 / -1;padding:var(--space-6);background-color:#fef2f3;border-left:4px solid var(--color-error);border-radius:var(--radius-md);color:var(--color-error);font-size:var(--font-size-sm)}

/* ACCESSIBILITY */
@media (prefers-reduced-motion:reduce) {
  .comunicazione-card, .pagination__link, .filter-select {transition:none !important;animation:none !important}
}

/* PRINT */
@media print {
  .filter-group, .comunicazioni-pagination {display:none}
  .comunicazioni-list {grid-template-columns:1fr}
}
