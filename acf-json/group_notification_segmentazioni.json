{
    "key": "group_notification_segmentazioni",
    "title": "Segmentazioni Notifiche",
    "fields": [
        {
            "key": "field_notification_segmentazioni",
            "label": "Segmentazioni",
            "name": "notification_segmentazioni",
            "aria-label": "",
            "type": "repeater",
            "instructions": "Crea le regole di segmentazione per inviare notifiche a specifici gruppi di utenti",
            "required": false,
            "conditional_logic": false,
            "wrapper": {
                "width": "",
                "class": "",
                "id": ""
            },
            "button_label": "Aggiungi Segmentazione",
            "layout": "table",
            "min": 0,
            "max": 0,
            "collapsed": "",
            "rows_per_page": 20,
            "sub_fields": [
                {
                    "key": "field_segmentation_title",
                    "label": "Titolo Segmentazione",
                    "name": "segmentation_title",
                    "aria-label": "",
                    "type": "text",
                    "instructions": "Nome della segmentazione (Es: Tutti i Subscriber, Solo Dirigenti)",
                    "required": 1,
                    "conditional_logic": false,
                    "wrapper": {
                        "width": "30",
                        "class": "",
                        "id": ""
                    },
                    "placeholder": "Es: Tutti i Subscriber",
                    "default_value": "",
                    "maxlength": "",
                    "prepend": "",
                    "append": "",
                    "parent_repeater": "field_notification_segmentazioni"
                },
                {
                    "key": "field_segmentation_rule_type",
                    "label": "Tipo Regola",
                    "name": "segmentation_rule_type",
                    "aria-label": "",
                    "type": "select",
                    "instructions": "Seleziona il criterio di segmentazione",
                    "required": 1,
                    "conditional_logic": false,
                    "wrapper": {
                        "width": "35",
                        "class": "",
                        "id": ""
                    },
                    "choices": {
                        "all_subscribers": "Tutti i Subscriber",
                        "by_profilo": "Per Profilo Professionale",
                        "by_udo": "Per UDO (Unità Offerta)",
                        "by_stato": "Per Stato Utente",
                        "by_profilo_and_udo": "Per Profilo + UDO",
                        "custom_query": "Query Custom (Advanced)"
                    },
                    "default_value": "all_subscribers",
                    "allow_null": 0,
                    "multiple": 0,
                    "ui": 1,
                    "return_format": "value",
                    "ajax": 0,
                    "placeholder": "",
                    "create_options": 0,
                    "save_options": 0,
                    "parent_repeater": "field_notification_segmentazioni"
                },
                {
                    "key": "field_segmentation_profilo",
                    "label": "Profilo Professionale",
                    "name": "segmentation_profilo",
                    "aria-label": "",
                    "type": "taxonomy",
                    "instructions": "Seleziona il profilo professionale",
                    "required": false,
                    "conditional_logic": [
                        [
                            {
                                "field": "field_segmentation_rule_type",
                                "operator": "==",
                                "value": "by_profilo"
                            }
                        ],
                        [
                            {
                                "field": "field_segmentation_rule_type",
                                "operator": "==",
                                "value": "by_profilo_and_udo"
                            }
                        ]
                    ],
                    "wrapper": {
                        "width": "35",
                        "class": "",
                        "id": ""
                    },
                    "taxonomy": "profili_professionali",
                    "field_type": "select",
                    "return_format": "id",
                    "allow_null": 0,
                    "add_term": 1,
                    "load_terms": 0,
                    "save_terms": 0,
                    "multiple": 0,
                    "bidirectional_target": [],
                    "parent_repeater": "field_notification_segmentazioni"
                },
                {
                    "key": "field_segmentation_udo",
                    "label": "UDO (Unità Offerta)",
                    "name": "segmentation_udo",
                    "aria-label": "",
                    "type": "taxonomy",
                    "instructions": "Seleziona l'Unità Offerta",
                    "required": false,
                    "conditional_logic": [
                        [
                            {
                                "field": "field_segmentation_rule_type",
                                "operator": "==",
                                "value": "by_udo"
                            }
                        ],
                        [
                            {
                                "field": "field_segmentation_rule_type",
                                "operator": "==",
                                "value": "by_profilo_and_udo"
                            }
                        ]
                    ],
                    "wrapper": {
                        "width": "35",
                        "class": "",
                        "id": ""
                    },
                    "taxonomy": "unita_offerta",
                    "field_type": "select",
                    "return_format": "id",
                    "allow_null": 0,
                    "add_term": 1,
                    "load_terms": 0,
                    "save_terms": 0,
                    "multiple": 0,
                    "bidirectional_target": [],
                    "parent_repeater": "field_notification_segmentazioni"
                },
                {
                    "key": "field_segmentation_stato",
                    "label": "Stato Utente",
                    "name": "segmentation_stato",
                    "aria-label": "",
                    "type": "select",
                    "instructions": "Stato utente per il filtro",
                    "required": false,
                    "conditional_logic": [
                        [
                            {
                                "field": "field_segmentation_rule_type",
                                "operator": "==",
                                "value": "by_stato"
                            }
                        ]
                    ],
                    "wrapper": {
                        "width": "35",
                        "class": "",
                        "id": ""
                    },
                    "choices": {
                        "attivo": "Solo Attivi",
                        "sospeso": "Solo Sospesi",
                        "licenziato": "Solo Licenziati"
                    },
                    "default_value": "attivo",
                    "allow_null": 0,
                    "multiple": 0,
                    "ui": 1,
                    "return_format": "value",
                    "ajax": 0,
                    "placeholder": "",
                    "create_options": 0,
                    "save_options": 0,
                    "parent_repeater": "field_notification_segmentazioni"
                },
                {
                    "key": "field_segmentation_custom_query_class",
                    "label": "Classe Query Custom",
                    "name": "segmentation_custom_query_class",
                    "aria-label": "",
                    "type": "text",
                    "instructions": "Es: MeridianaNotification\\CustomQueryClass",
                    "required": false,
                    "conditional_logic": [
                        [
                            {
                                "field": "field_segmentation_rule_type",
                                "operator": "==",
                                "value": "custom_query"
                            }
                        ]
                    ],
                    "wrapper": {
                        "width": "35",
                        "class": "",
                        "id": ""
                    },
                    "placeholder": "MeridianaNotification\\CustomQueryClass",
                    "default_value": "",
                    "maxlength": "",
                    "prepend": "",
                    "append": "",
                    "parent_repeater": "field_notification_segmentazioni"
                },
                {
                    "key": "field_segmentation_description",
                    "label": "Descrizione",
                    "name": "segmentation_description",
                    "aria-label": "",
                    "type": "textarea",
                    "instructions": "Note interne sulla segmentazione",
                    "required": false,
                    "conditional_logic": false,
                    "wrapper": {
                        "width": "100",
                        "class": "",
                        "id": ""
                    },
                    "rows": 2,
                    "default_value": "",
                    "new_lines": "",
                    "maxlength": "",
                    "placeholder": "",
                    "parent_repeater": "field_notification_segmentazioni"
                }
            ]
        }
    ],
    "location": [
        [
            {
                "param": "options_page",
                "operator": "==",
                "value": "configurazione-notifiche"
            }
        ]
    ],
    "menu_order": 0,
    "position": "normal",
    "style": "default",
    "label_placement": "top",
    "instruction_placement": "label",
    "hide_on_screen": "",
    "active": true,
    "description": "Repeater per gestire le segmentazioni notifiche",
    "show_in_rest": 0,
    "display_title": "",
    "modified": 1761742980
}
